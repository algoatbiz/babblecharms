var body=document.body,header=document.getElementById("header"),topbar=document.getElementById("topbar"),navigation=document.getElementById("nav-wrap"),menu=document.getElementById("menu"),mobileMenu=document.getElementById("mobile-menu"),desktopLinks=document.querySelectorAll("#menu .has-children > a"),main=document.getElementById("main");function newAx(){return axios.create({headers:{"X-Requested-With":"XMLHttpRequest"}})}var ax=newAx(),mobile=isMobile();function isMobile(){return!!new MobileDetect(window.navigator.userAgent).mobile()}body.className+=" "+(mobile?"mobile":"desktop");var phone=window.innerWidth<480,ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),edge=ua.indexOf("Edge/"),trident=ua.indexOf("Trident/"),version=parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);body.className+=trident>0||msie>0?" ie":edge>0?" edge":"";for(var i=0;i<desktopLinks.length;i++)desktopLinks[i].addEventListener("click",toggleMenu);function toggleMenu(e){if("#"!==e.currentTarget.getAttribute("href"))return!0;e.preventDefault();var t=this.nextSibling,n="block"==window.getComputedStyle(t).display?"slideUp":"slideDown";closeMenu(this,this.parentNode.parentNode),Velocity(t,n,{duration:150}),this.parentNode.classList.toggle("open")}function closeMenu(e,t){var n=t.querySelector(".open > a");if(n&&n!==e){Velocity(n.nextSibling,"slideUp",{duration:150}),n.parentNode.classList.remove("open");var r=n.nextSibling.querySelector(".open > a");r&&(r.parentNode.classList.remove("open"),r.nextSibling.style.display="none")}}body.addEventListener("click",function(e){!(!!menu&&menu.contains(e.target))&&menu&&closeMenu(this,menu)});var productCategoryLinks=document.querySelectorAll(".product-submenu a");for(i=0;i<productCategoryLinks.length;i++)productCategoryLinks[i].addEventListener("mouseover",function(){document.querySelector(".product-submenu .product-image").style="background-image: url('"+this.dataset.image+"')"});var products=document.querySelectorAll("body.product .photo-container img");if(products.length>0)for(i=0;i<products.length;i++)products[i].addEventListener("mouseover",function(){document.querySelector("body.product .photo-container").style.backgroundImage='url("'+this.src+'")'});var galleryContainer=document.querySelector("body#photo-gallery #gallery-container");if(galleryContainer){var images=galleryContainer.querySelectorAll("figure");for(i=0;i<images.length;i++)images[i].addEventListener("click",function(){setBigImage(this)});var nextPrev=galleryContainer.querySelectorAll(".next, .prev");for(i=0;i<nextPrev.length;i++)nextPrev[i].addEventListener("click",function(){var e=parseInt(galleryContainer.querySelector(".current").dataset.index);e="next"==this.className?(e+1)%images.length:0==e?images.length-1:e-1,setBigImage(images[e])})}function setBigImage(e){galleryContainer.querySelector(".current").className="",galleryContainer.querySelector("div:first-child").style.backgroundImage="url("+e.querySelector("img").src+")",e.className="current"}function initMap(){var e=new google.maps.LatLng(40.59649659999999,-112.48481989999999),t={zoom:17,streetViewControl:!1,scaleControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,center:e,disableDefaultUI:!0},n=new google.maps.Map(document.getElementById("map"),t);new google.maps.Marker({position:e,map:n})}var forms=document.querySelectorAll("form");if(forms.length>0)for(i=0;i<forms.length;i++)forms[i].addEventListener("submit",function(e){e.preventDefault();var t=this,n=getFormValues(t);n.c_time=performance.now()>=7e3?0:1;var r=new FormData;for(var o in n)r.append(o,n[o]);ax.post(t.action,r).then(function(e){t.querySelector(".message").innerHTML=e.data.message}).catch(function(e){clearErrors(t),setErrors(t,e.response.data)})});function getFormValues(e){for(var t={},n=["INPUT","TEXTAREA","SELECT"],r=0;r<n.length;r++)getInputValues(e,t,n[r]);return t}function getInputValues(e,t,n){for(var r=e.getElementsByTagName(n),o=r.length-1;o>=0;o--)r[o].name.length&&(t[r[o].name]=r[o].value);return t}function clearErrors(e){for(var t=e.getElementsByClassName("error"),n=t.length-1;n>=0;n--)t[n].className=t[n].className.replace(" error","")}function setErrors(e,t){for(var n in Velocity(document.querySelector("form"),"scroll",{offset:-(header.offsetHeight+16),duration:400}),t.errors){var r=e.querySelector("#"+n);r&&(r.parentNode.className+=" error")}}